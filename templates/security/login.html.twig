{% extends 'base_front.html.twig' %}

{% block title %}Se connecter | DTC{% endblock %}

{% block body %}
	<h1 class="h3 mb-3 font-weight-normal" style="margin: 70px 0 20px 0; text-align: center">Se connecter</h1>

	<form method="post" style="max-width: 420px; width: 100%; border: 1px solid #ddd; padding: 20px; border-radius: 5px; display: flex; flex-direction: column; margin: auto">
		{% if error %}
			<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
		{% endif %}

		{% if app.user %}
			<div class="mb-3">
				Tu es déjà connecté
				{{ app.user.username }}.
				<a href="{{ path('app_logout') }}">Se déconnecter</a>
			</div>
		{% endif %}


		<div class="input-field">
			<input placeholder="johndoe@gmail.com" id="inputEmail" type="email" class="validate" name="email" value="{{ last_username }}" required autofocus autocomplete="email">
			<label for="inputEmail">Email</label>
		</div>
		<div class="input-field">
			<input id="inputPassword" type="password" class="validate" name="password" required autofocus autocomplete="current-password">
			<label for="inputPassword">Mot de passe</label>
		</div>
		<a href="/reset-password" style="font-size: 0.8rem">
			Mot de passe oublié
		</a>
		<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
	</input>
	{# <div class="checkbox mb-3">
		<label>
			<input type="checkbox" name="_remember_me">
			<span>Se souvenir de moi</span>
		</label>
	</div> #}


	<button class="btn btn-lg pull-right btn-primary" style="margin-top: 20px" type="submit">
		Connexion
	</button>
</form>

<p style="margin: 30px auto; width: fit-content">
	Pas encore de compte ?
	<a href="/register">
		S'inscrire
	</a>
</p>

<div style="margin: 20px auto; width: fit-content; padding-bottom: 90px">
	<a href="{{ path('connect_facebook_start') }}">
		Connexion avec Facebook
	</a>
	|
	<a href="{{ path('connect_google_start') }}">
		Connexion avec Google
	</a>
</div>{% endblock %}
