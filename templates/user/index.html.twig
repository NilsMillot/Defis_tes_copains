{% extends 'base_front.html.twig' %}

{% block title %}Mon compte
{% endblock %}
{% block body %}
	<link href="{{ asset('css/profile_card.css') }}" rel="stylesheet"/>

	<div id="profil_card_container">
		<h1 id="profil_card_name">Votre profil
			{{ user.username }}</h1>
		<div id="profil_card_avatar-upload">
			<div id="profil_card_avatar-edit">
				<input type='file' id="imageUpload" accept=".png, .jpg, .jpeg"/>
				<label for="imageUpload"></label>
			</div>
			<div id="profil_card_avatar-preview">
				<div id="imagePreview" style="background-image: url('http://i.pravatar.cc/500');"></div>
				{# <span id="imagePreview">{{ userInitials }}</div> #}
			</div>
		</div>
	</div>
	<p>
		<span class="row">
			{% if ( numberOfFriends > 1 ) %}
				{{ numberOfFriends }}
				ami(e)s
			{% elseif ( numberOfFriends == 1 )%}
				{{ numberOfFriends }}
				ami(e)
			{% else %}
				Vous n'avez pas encore d'amis
			{% endif %}
		</span>
		<span class="row">
			{% if ( numberOfChallengesCreated > 1 ) %}
				{{ numberOfChallengesCreated }}
				challenges créés
			{% elseif ( numberOfChallengesCreated == 1 )%}
				{{ numberOfChallengesCreated }}
				challenge crée
			{% else %}
				Vous n'avez pas encore publié de challenge
			{% endif %}
		</span>
		<span class="row">
			{% if ( numberOfGroup > 1 ) %}
				vous faites partie de
				{{ numberOfGroup }}
				groupes
			{% elseif ( numberOfGroup == 1 )%}
				vous faites partie d'un groupe
			{% else %}
				Vous ne faites partie d'aucun groupe
			{% endif %}
		</span>
	</p>

	<script>
		let imageUpload = document.querySelector("#imageUpload");
let imagePreview = document.querySelector("#imagePreview");
function readURL(input) {
if (input.files && input.files[0]) {
var reader = new FileReader();
reader.onload = function (e) {
imagePreview.style.backgroundImage = 'url(' + e.target.result + ')';
}
reader.readAsDataURL(input.files[0]);
}
}

imageUpload.addEventListener("change", function () {
readURL(this);
});
	</script>

{% endblock %}
